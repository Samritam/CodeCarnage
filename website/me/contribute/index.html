<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>CodeCarnage - Contribute</title>

    <!-- Bootstrap core CSS -->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="../css/landing-page.css" rel="stylesheet">

  </head>

  <body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href=".."><img src="../img/logo.png" height="48"/></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="../about/">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../contribute/">Contribute</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../contact/">Contact</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../downloads/">Download</a>
            </li>
            <li class="nav-item">
              <a href="https://twitter.com/codecarnagegame" class="nav-link">
                <i class="fa fa-twitter fa-fw"></i>
              </a>
            </li>
            <li class="nav-item">
              <a href="https://github.com/j3kstrum/CodeCarnage" class="nav-link">
                <i class="fa fa-github fa-fw"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

 <!-- Header -->
    <header class="intro-header">
      <div class="container">
        <div class="intro-message">
          <h1>CodeCarnage Contributors</h1>
        </div>
      </div>
    </header>

    <!-- Page Content -->
    <section class="content-section-a">

      <div class="container">
        <div class="row">
          <div class="col-lg-5 ml-auto">
            <hr class="section-heading-spacer">
            <div class="clearfix"></div>
            <h2 class="section-heading">
              Welcome Contributors!
            </h2>
            <p class="lead">
				This page is designed to help you become more familiar with how CodeCarnage works on a technical level. 
				Please save this page for reference.
            </p>
          </div>
          <div class="col-lg-5 mr-auto">
          </div>
        </div>

      </div>
      <!-- /.container -->
    </section>
	
	
	<section class="content-section-b">

      <div class="container">
        <div class="row">
          <div class="col-lg-5 ml-auto">
            <hr class="section-heading-spacer">
            <div class="clearfix"></div>
            <h2 class="section-heading">
				Contribution Guidelines
            </h2>
			
			<p class="lead">
				<b>Contributors are always welcome, and without their help, CodeCarnage would not be where it is today. While some general guidelines are laid out here, contributors are encouraged to help in any way they would like so long as their issues are properly tagged and they assign the correct reviewer (see below).</b>
            </p>
			
			
			<br></br>
			<h5 class="section-heading">
				Pull Requests
			</h5>
			
			<p class="lead">
				Since contributors do not have the rights to modify the repository directly, please fork our repository and make your changes on your forked copy. For more information on forking, please see <a href="https://help.github.com/articles/fork-a-repo/"> the GitHub documentation on forking a repository.
              </a>.
			</p>
			
			<p class="lead">
				Once you are satisfied with your edits and believe that you have successfully addressed the issue in question, please submit a pull request from your forked repository's branch into our main develop branch. In your pull request, it is very important that you state which issue you are addressing by referencing that you are closing it. For example, please see 
				<a href="https://github.com/j3kstrum/CodeCarnage/pulls?q=is%3Apr+is%3Aclosed"> the main contributor pull requests
              </a>. and note that each one states, somewhere, that the pull request is "closing #x", where x is the number of the issue being closed.
			</p>

			
			<br></br>
			<h5 class="section-heading">
				Branches
			</h5>
			
			<p class="lead">
				In general, there are no rules pertaining to branching in our repository. However, that being said, no pull requests into master will be accepted. Additionally, pull requests are only 100% guaranteed to be incorporated in the main development cycle if they are made into the develop branch.
			</p>

			
			<br></br>
			<h5 class="section-heading">
				Tags
			</h5>
			
			<p class="lead">
				We do not recommend placing tags in the repository unless extremely necessary. Tags in the repository will be reviewed with extreme discretion and only necessary tags will be incorporated into the main fork.				
			</p>

			<br></br>
			
			<h5 class="section-heading">
				Code Review
			</h5>
			
			<p class="lead">
				The four main project developers are each assigned to a specific role and know that area of the code well. As a result, please assign reviewers to your code based on the list below if your code significantly altered that reviewer's share of the code base.
			</p>
			
			<ul>
				<li>Jacob Ekstrum (j3kstrum) - The Game Engine (and most areas that interface directly with the Tiled library).</li>
				<li>Nick Martin (nmartin5) - The GUI (and anything else graphical or that handles events)</li>
				<li>Sean Brais (seanbrais) - The Game Model, including abstract entities, players, and game logic.</li>
				<li>David Olsen (islanddove) - The Scripting Component, where the building blocks from the user's GUI script are applied to the game's variables.</li>
			</ul>  
		
		
          </div>
          <div class="col-lg-5 mr-auto">
          </div>
        </div>

      </div>
      <!-- /.container -->
    </section>
	
	<section class="content-section-b">

      <div class="container">
        <div class="row">
          <div class="col-lg-5 ml-auto">
            <hr class="section-heading-spacer">
            <div class="clearfix"></div>
            <h2 class="section-heading">
              How it works
            </h2>
			
            <p class="lead">
              This section explains how CodeCarnage is structured and how it functions. After reading this section, you should be fully prepared to being working on contributing to the CodeCarnage project.
            </p>
			
			<br></br>
			
			<h5 class="section-heading">
				The Basics			
			</h5>
			
			<p class="lead">
				CodeCarnage is built entirely in Java. The graphics libraries use the Tiled framework (see also: <a href="http://mapeditor.org">http://mapeditor.org</a>) and JavaFX to display graphics. As a result of using Tiled, much of the game data resembles the Tiled data structure. That is, the Game Map is composed of several different stacked layers. Each layer has tiles associated with it, each of which can be changed at any given game turn. The engine ticks away at each turn, ensuring that the entire turn's computation and data manipulation takes as close to 250 milliseconds as possible (though this number is subject to change).
			</p>
			
			
			<br></br>
			
			<h5 class="section-heading">
				The Code			
			</h5>
			
			<p class="lead">
				The flowchart <a href="https://www.cse.buffalo.edu/~jacobeks/codecarnage/me/codecarnage.png">on the CodeCarnage website</a> gives a good idea of how CodeCarnage is structured. It serves as a wonderful reference while working with the code base.
			</p>

			<br></br>
			
			<h5 class="section-heading">
				The Website			
			</h5>
			
			<p class="lead">
				Speaking of which, we strongly recommend that you visit <a href="https://www.cse.buffalo.edu/~jacobeks/codecarnage/me/contribute">the CodeCarnage website</a> for the most up-to-date information regarding the project.
			</p>
			
			<br></br>

			<h5 class="section-heading">
				Sample Program Flow			
			</h5>
			
			<p class="lead">
				When CodeCarnage is executed, in general, the following program flow occurs:
					<ol>
						<li>The main function is called in src/main/java/common/Main.</li>
						<li>A MenuGUI object is created from src/main/java/gui/menu/MenuGUI, and its start() method is invoked by JavaFX on the JavaFX thread.</li>
						<li>The MenuGUI prepares for input.</li>
						<li>Input is received, and the game creates a new ScriptingGUI from src/main/java/gui/scripting/ScriptingGUI.</li>
						
						<li>The ScriptingGUI and its src/main/java/gui/scripting/ScriptingController object receive and process user script input.</li>
						<li>The user submits their script, and error checking is performed.</li>
						<li>A new GameGUI object is created from src/main/java/gui/game/GameGUI. This creates a new Engine.</li>
						<li>The new src/main/java/engine/core/Engine is initialized. It loads the game map and its resources through Tiled and over the internet.</li>
						
						<li>The engine passes the loaded map to the parseEntityMap function in the game utilities and retrieves the parsed map whose data structure is appropriate for CodeCarnage.</li>
						<li>This map is passed to a new src/main/java/utilities/models/Game object, which initializes the players.</li>
						<li>The GameGUI is loaded onto the screen and calls startUIUpdateThread().</li>
						<li>startUIUpdateThread() creates a new Service - a Thread-like object that is fully compatible with JavaFX and is reusable.</li>
						
						<li>We start ticking. Therefore at each 250 millisecond interval, the following steps are performed until the game is over.</li>
						<li>The engine will call all game logic functions through its tick() function and will then wait until the 250 millisecond interval has elapsed. It does this by iterating over each player's commands and performing the first one according to the logic defined in the scripting area. The new game map is returned with all of the changes applied.</li>
						<li>The GameGUI will check that the game is over and display a results screen and exit if so.</li>
						<li>"Deltas" are identified. These are the squares that have changed since the last tick and that need to be redrawn.</li>
						
						<li>"Deltas" are applied. The GameGUI redraws these squares using the new graphical values.</li>
						<li>"Return to step 14 and repeat.</li>
					</ol> 
			</p>
		

			<br></br>
			
			<h5 class="section-heading">
				Code Details			
			</h5>
			
			<p class="lead">
				Now that we're more familiar with the overall structure of CodeCarnage, let's dive into the more intricate details of how each section of the program works.
			</p>
			
			<br></br>
			
			<h5 class="section-heading">
				The Test Package			
			</h5>
			
			<p class="lead">
				This package contains all of the unit testing code for the project, organized in the same structure as the main package.
			</p>

			<br></br>
			
			<h5 class="section-heading">
				The Main Library Package			
			</h5>
			
			<p class="lead">
				This sub-package of main contains all local, non-gradle dependencies for CodeCarnage. In particular, this contains our custom version of the Tiled library. Manipulating the Tiled source code should be unnecessary for contributors, and we therefore do not address the tiled package in CodeCarnage.
			</p>


			<br></br>
			
			<h5 class="section-heading">
				Code Details			
			</h5>
			
			<p class="lead">
				Now that we're more familiar with the overall structure of CodeCarnage, let's dive into the more intricate details of how each section of the program works.
			</p>			
			
          </div>
          <div class="col-lg-5 mr-auto">
          </div>
        </div>

      </div>
      <!-- /.container -->
    </section>
	
	
	<section class="content-section-b">

      <div class="container">
        <div class="row">
          <div class="col-lg-5 ml-auto">
            <hr class="section-heading-spacer">
            <div class="clearfix"></div>
				<h2 class="section-heading">
					Code Details			
				</h2>
				
				<p class="lead">
					Now that we're more familiar with the overall structure of CodeCarnage, let's dive into the more intricate details of how each section of the program works.
				</p>
				
				<br></br>
				
				<h5 class="section-heading">
					The Test Package			
				</h5>
				
				<p class="lead">
					This package contains all of the unit testing code for the project, organized in the same structure as the main package.
				</p>
	
				<br></br>
				
				<h5 class="section-heading">
					The Main Library Package			
				</h5>
				
				<p class="lead">
					This sub-package of main contains all local, non-gradle dependencies for CodeCarnage. In particular, this contains our custom version of the Tiled library. Manipulating the Tiled source code should be unnecessary for contributors, and we therefore do not address the tiled package in CodeCarnage.
				</p>
	
	
				<br></br>
				
				<h5 class="section-heading">
					The Main Resources Package		
				</h5>
				
				<p class="lead">
					This sub-package of main contains all of the local resources used for CodeCarnage. In the past, this folder used to contain separate resource folders for each operating system. Since the resource cloud update, this is no longer the case, and the resources package has shrunk significantly.
				</p>

				<br></br>
				
				<h5 class="section-heading">
					The Main Java Package		
				</h5>
				
				<p class="lead">
					The sub-package of main contains the vast majority of the source code of CodeCarnage.
				</p>	
				
				
				<br></br>
				
				<h5 class="section-heading">
					The Common Package			
				</h5>
				
				<p class="lead">
					The common package contains all code that is significantly utilized by more than one other package. It contains the exceptions used in the program, logger functions, and game constants.
				</p>

				<br></br>
				
				<h5 class="section-heading">
					The Utilites Package		
				</h5>
				
				<p class="lead">
					This package contains all of the Game Logic / Game Models for CodeCarnage. Inside utilities there are two packages, entities and models.
				</p>					

				<p class="lead">
					Firstly we will look at entities. This package contains the Player.java and Empty.java classes, each derived from the Entity.java class. Each tile of the Map holds one of these two objects, and is used to represent and coordinate logic throughout the game. The Player entity holds various data for the player, such as Damage, Shield Strength, Health, Location etc. The Empty entity is used to represent a empty tile on the map.
				</p>		

				<p class="lead">
					Now looking at models, this contains all of the Game Logic for CodeCarnage. Three main classes allow this functionality.				</p>		

				<p class="lead">
					EntityTile.java holds a reference to the Tiled tile, as well as a reference to the corresponding Entity(Either a player or empty entity). Every tile on the GameMap holds an entity tile.
				</p>		

				<p class="lead">
					GameMap.java holds a representation of the Map that is rendered on screen. Currently contains a 25 x 15 grid of EntityTiles (though this may change if another tileset/map is used). It also provides an API for the game to move tiles around on the map, altering the game when collisions and out of bounds operations will occur when moving.
				</p>		

				<p class="lead">
					Lastly, we have Game.java. As the name implies, this contains the meat of the game logic and commands that are used. When creating a new Game, you must pass in a reference to a GameMap, which will contain the initial game state and corresponding assets rendered and loaded from the Tiled library. The game class acts as a API for the scripting module, containing method calls for each command, as well as holding data utilized in the scripts. The game class also acts as a API for the Engine, where the engine will execute game.nextTurn() to obtain a new update for the map and progress through the game.
				</p>						
				
				<p class="lead">
					For more information on the utilities package, please contact Sean Brais (seanbrais) by <a href="https://github.com/j3kstrum/CodeCarnage/issues/new?labels=question&assignees=seanbrais">creating a GitHub question.</a>.
				</p>		

				<br></br>
				
				<h5 class="section-heading">
					The GUI Package
				</h5>
				
				<p class="lead">
					(To fill at a later date)
					For more information on the GUI package, please contact Nick Martin (nmartin5) by <a href="https://github.com/j3kstrum/CodeCarnage/issues/new?labels=question&assignees=nmartin5">creating a GitHub question.</a>					
				</p>

				<br></br>
				
				<h5 class="section-heading">
					The Engine Package
				</h5>
				
				<p class="lead">
					The Engine package holds the game engine, which is responsible for high-level processing of the game's components. It is also responsible for turn timing (ticking) and for orchestrating any network-based interactions.

					For more information on the Engine package, please contact Jacob Ekstrum (j3kstrum) by <a href="https://github.com/j3kstrum/CodeCarnage/issues/new?labels=question&assignees=j3kstrum">creating a GitHub question.</a>						
				</p>

				<br></br>
				
				<h5 class="section-heading">
					The Interpreter Package	
				</h5>						
				
				<p class="lead">
					This package contains code that is used to transfer information from the GUI to the game model.								
				</p>
				
				<p class="lead">
					Check.java holds a condition, ScriptCommand.java holds a list of Checks, and the 'enumerations' folder holds a number of enumerators that specify the Commands, Conditionals, Data, and Operators for Check.java and ScriptCommand.java to use.				
				</p>

				<p class="lead">
					Check.java uses a passed-in PlayerID to determine if a condition is true, while ScriptCommand.java uses a passed-in PlayerID to modify the state of the game. The command specified in ScriptCommand.java will only execute if all elements of its Check.java List return true.				
				</p>

				<p class="lead">
					The GameGUI.java class in the GUI package creates a List of ScriptCommand.java, each with its own list of Check.java. The list of ScriptCommand.java is accessed by the game engine in engine/core/Engine.java. There, in the method tick(), the engine iterates over the list of ScriptCommand.java for each player, passing in the PlayerID to ensure the correct data is modified.				
				</p>

				<p class="lead">
					For more information on the Interpreter package, please contact David Olsen (islanddove) by <a href="https://github.com/j3kstrum/CodeCarnage/issues/new?labels=question&assignees=islanddove">creating a GitHub question.</a>  				
				</p>				
				
          </div>
          <div class="col-lg-5 mr-auto">
          </div>
        </div>

      </div>
      <!-- /.container -->
    </section>
	
    <section class="content-section-b">

      <div class="container">
        <div class="row">
          <div class="col-lg-5 ml-auto">
            <hr class="section-heading-spacer">
            <div class="clearfix"></div>
            <h2 class="section-heading">
				Recommended Development Environment            
			</h2>
            <p class="lead">
             We strongly recommend that the <a href="https://www.jetbrains.com/idea/download/"> IntelliJ IDEA</a> integrated development environment is used. 
			 However, so long as the core build principles are followed from the next section, any IDE can be used.
            </p>
			
            <p class="lead">
				If the IntelliJ IDEA IDE is used, please be sure to make the CodeCarnage folder (i.e., the folder directly above src/ and website/) the root of your project. Then, please expand the src/main and src/test folders. Mark src/main/java as a sources root, src/main/resources as a resources root, src/test/java as a test source root, and src/test/resources as a test resources root. To set a folder as a root folder, right click the folder and navigate to "Mark Directory as."
            </p>
			
            <p class="lead">
				Linux operating systems are the most straightforward and require the least setup. However, Windows development is also perfectly acceptable. While Mac development has not been attempted, there should be no reason why that would not work as well.
            </p>			

			
          </div>
          <div class="col-lg-5 mr-auto">
          </div>
        </div>

      </div>
      <!-- /.container -->
    </section>	
	
	
	<section class="content-section-b">

      <div class="container">
        <div class="row">
          <div class="col-lg-5 ml-auto">
            <hr class="section-heading-spacer">
            <div class="clearfix"></div>
            <h2 class="section-heading">
				Building and Running the Project         
			</h2>
            <p class="lead">
				This project is intended for Java 1.8, and therefore the <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">  Java 1.8 SDK </a> will be required to build and run.
            </p>
			
            <p class="lead">
				If you are running on Linux, you likely already have Gradle installed. If you are not running Linux or the <code>gradle</code> command fails when executed in a terminal, you will need to 
				<a href="https://gradle.org/install/">install Gradle</a>.
            </p>
			
            <p class="lead">
				With both Gradle and the JDK installed, you can navigate to the CodeCarnage root folder (that is, the folder containing src/ and website/) and execute the following command as an all-in-one:
            </p>			
			
			<p class="lead">
				<code>gradle buildJar</code>
            </p>	
			
			<p class="lead">
				The above command calls many sub-commands and will clean the repository, build the source code, run all unit tests and verify their success, and build the resulting JAR file that is ran for CodeCarnage (which may be placed in build/libs/CodeCarnage-all.jar or similar).
            </p>

			<p class="lead">
				The commands below may also be helpful:
				
					<ul>
						<li><code>gradle cleanIdea</code> - Removes all files required for IntelliJ to run and manage the project. This is perfect for acquiring a clean slate for other commands to run on.</li>
						<li><code>gradle idea</code> - Build the IntelliJ dependencies for running CodeCarnage</li>
						<li><code>gradle clean</code> - Cleans the built source code for CodeCarnage, which is also perfect for acquiring a clean slate for other commands.</li>
						<li><code>gradle build</code> - Builds the source code for CodeCarnage with the most recent changes, verifying that the code compiles.</li>
						<li><code>gradle test</code> - Runs all CodeCarnage unit tests and verifies their success.</li>
					</ul> 
            </p>		

			<p class="lead">
				These commands can be run together. For example, Jacob frequently runs the following gradle chained command:
			</p>
			
			<p class="lead">
				<code>gradle clean cleanIdea idea build test buildJar</code>
			</p>
			
						
			<p class="lead">
				Note that gradle commands are not case-sensitive. If you would like to see the other custom gradle configurations for the CodeCarnage project, please see the build.gradle file in the root project directory. More information is also available <a href="https://gradle.org/">on Gradle's website.</a>
			</p>
			

			
          </div>
          <div class="col-lg-5 mr-auto">
          </div>
        </div>

      </div>
      <!-- /.container -->
    </section>


    <section class="content-section-b">

      <div class="container">
        <div class="row">
          <div class="col-lg-5 ml-auto">
            <hr class="section-heading-spacer">
            <div class="clearfix"></div>
            <h2 class="section-heading">
              Next Steps
            </h2>
            <p class="lead">
				Now that you're familiar with all of the CodeCarnage software, why not <a href="https://github.com/j3kstrum/CodeCarnage/labels/help%20wanted">take a look at our open issues </a> and find one that suits you? We would love your help!
            </p>
          </div>
          <div class="col-lg-5 mr-auto">
          </div>
        </div>

      </div>
      <!-- /.container -->
    </section>	
	
	    <section class="content-section-b">

      <div class="container">
        <div class="row">
          <div class="col-lg-5 ml-auto">
            <hr class="section-heading-spacer">
            <div class="clearfix"></div>
            <h2 class="section-heading">
              Having Trouble?
            </h2>
            <p class="lead">
				If you're having trouble, we strongly suggest first visiting <a href="http://codecarnage.ga/me/contribute">the CodeCarnage Website</a>.
            </p>
			
			<p class="lead">
				If you cannot resolve your issue by looking at the website or reviewing this wiki page, then please use the links below to contact the core development team on GitHub: </p>
				<ul>
					<li><a href="https://github.com/j3kstrum/CodeCarnage/issues/new?labels=question&assignees=j3kstrum">I have an issue pertaining to the game engine</a>.
					<li><a href="https://github.com/j3kstrum/CodeCarnage/issues/new?labels=question&assignees=nmartin5">I have an issue pertaining to the GUI, but not the website</a>.
					<li><a href="https://github.com/j3kstrum/CodeCarnage/issues/new?labels=question&assignees=islanddove">I have an issue pertaining to the scripting code and how it is handled</a>.
					<li><a href="https://github.com/j3kstrum/CodeCarnage/issues/new?labels=question&assignees=seanbrais">I have an issue pertaining to the game model and the underlying data structures</a>.
					<li><a href="https://github.com/j3kstrum/CodeCarnage/issues/new?labels=question&assignees=j3kstrum,nmartin5,islanddove,seanbrais">I have an issue pertaining to the website</a>.
					<li><a href="https://github.com/j3kstrum/CodeCarnage/issues/new?labels=question&assignees=j3kstrum,nmartin5,islanddove,seanbrais">My problem is not reflected in the above choices, or is merely a general question</a>.
				</ul> 
          </div>
		  
		  
          <div class="col-lg-5 mr-auto">
          </div>
        </div>

      </div>
      <!-- /.container -->
    </section>	
	
	
	
	
    <!-- Footer -->
    <footer>
      <div class="container">
        <ul class="list-inline">
          <li class="list-inline-item">
            <a href="..">Home</a>
          </li>
          <li class="footer-menu-divider list-inline-item">&sdot;</li>
          <li class="list-inline-item">
            <a href="../about">About</a>
          </li>
          <li class="footer-menu-divider list-inline-item">&sdot;</li>
          <li class="list-inline-item">
            <a href="../contribute">Contribute</a>
          </li>
          <li class="footer-menu-divider list-inline-item">&sdot;</li>
          <li class="list-inline-item">
            <a href="../contact">Contact</a>
          </li>
        </ul>
        <p class="copyright text-muted small">Copyright &copy; CodeCarnage 2017. All Rights Reserved under the terms of the LICENSE. See <a href="../legal/">Legal</a> for more information.</p>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="../vendor/jquery/jquery.min.js"></script>
    <script src="../vendor/popper/popper.min.js"></script>
    <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>

  </body>

</html>
